# Conditionally enable profiling
if [[ -n "$ZSH_PROFILER" ]]; then
    zmodload zsh/zprof
fi

# ~/.zshrc
CONFIG_DIR="$HOME/.config/zsh"  # or ~/dotfiles/zsh if you prefer


# Base
source "$CONFIG_DIR/launch.zsh"
source "$CONFIG_DIR/exports.zsh"
source "$CONFIG_DIR/aliases.zsh"
# Bindings & general
source "$CONFIG_DIR/general.zsh"
# Functions
source "$CONFIG_DIR/functions.zsh"
# Zinit plugins
source "$CONFIG_DIR/plugins.zsh"


# Custom functions/plugins/themes
# for file in "$CONFIG_DIR/custom/"*.zsh; do
#   source "$file"
# done

# Prompt/theme
source "$CONFIG_DIR/theme.zsh"

if [[ -n "$ZSH_PROFILER" ]]; then
    zprof
fi


# The next line updates PATH for the Google Cloud SDK.
if [ -f '/Users/zaid/Downloads/google-cloud-sdk/path.zsh.inc' ]; then . '/Users/zaid/Downloads/google-cloud-sdk/path.zsh.inc'; fi

# The next line enables shell command completion for gcloud.
if [ -f '/Users/zaid/Downloads/google-cloud-sdk/completion.zsh.inc' ]; then . '/Users/zaid/Downloads/google-cloud-sdk/completion.zsh.inc'; fi

autoload -U +X bashcompinit && bashcompinit
complete -o nospace -C /opt/homebrew/bin/terraform terraform
